applications:
  app-ext:
    channel: latest/edge
    charm: data-integrator
    constraints: arch=amd64
    num_units: 1
    revision: 160
    options:
      database-name: mydb
    to:
    - '4'
  app-ext-admin:
    channel: latest/edge
    charm: data-integrator
    constraints: arch=amd64
    num_units: 1
    revision: 160
    options:
      database-name: mydb
      extra-user-roles: admin
    to:
    - '4'
  cos-agent-app-ext:
    channel: 1/edge
    charm: grafana-agent
    revision: 490
  cos-agent-app-int:
    channel: 1/edge
    charm: grafana-agent
    revision: 490
  cos-agent-app-int-perf:
    channel: 1/edge
    charm: grafana-agent
    revision: 490
  cos-agent-db:
    channel: 1/edge
    charm: grafana-agent
    revision: 490
  cos-agent-lb-ext:
    channel: 1/edge
    charm: grafana-agent
    revision: 490
  cos-agent-lb-int:
    channel: 1/edge
    charm: grafana-agent
    revision: 490
  lp-client:
    channel: latest/edge
    charm: landscape-client
    config:
      ppa: ppa:landscape/self-hosted-beta
    revision: 72
  lb-ext:
    channel: 1/edge
    charm: pgbouncer
    revision: 762
  lb-int:
    channel: 1/edge
    charm: pgbouncer
    revision: 762
  db:
    channel: 14/edge
    charm: postgresql
    constraints: arch=amd64
    num_units: 3
    revision: 780
    to:
    - '0'
    - '1'
    - '2'
  tls:
    channel: latest/edge
    charm: self-signed-certificates
    constraints: arch=amd64
    num_units: 1
    options:
      ca-common-name: postgresql_bundle_ca
    revision: 304
    to:
    - '3'
  app-int:
    channel: latest/edge
    charm: postgresql-test-app
    constraints: arch=amd64
    num_units: 1
    revision: 383
    to:
    - '4'
  s3:
    channel: latest/edge
    charm: s3-integrator
    constraints: arch=amd64
    num_units: 1
    revision: 155
    to:
    - '4'
  app-int-perf:
    channel: latest/edge
    charm: sysbench
    constraints: arch=amd64
    num_units: 1
    revision: 187
    to:
    - '4'
  ubuntu-pro:
    channel: latest/edge
    charm: ubuntu-advantage
    revision: 137
description: Charmed PostgreSQL bundle
issues: https://github.com/canonical/postgresql-bundle/issues
machines:
  '0':
    constraints: arch=amd64
    base: ubuntu@22.04
  '1':
    constraints: arch=amd64
    base: ubuntu@22.04
  '2':
    constraints: arch=amd64
    base: ubuntu@22.04
  '3':
    constraints: arch=amd64
    base: ubuntu@22.04
  '4':
    constraints: arch=amd64
    base: ubuntu@22.04
name: postgresql-bundle
relations:
- - lb-ext:backend-database
  - db:database
- - lb-int:backend-database
  - db:database
- - lb-ext:database
  - app-ext:postgresql
- - db:database
  - app-ext-admin:postgresql
- - lb-int:database
  - app-int:database
- - db:certificates
  - tls:certificates
- - lb-ext:certificates
  - tls:certificates
- - db:s3-parameters
  - s3:s3-credentials
- - db:database
  - app-int-perf:postgresql
- - app-ext:juju-info
  - cos-agent-app-ext:juju-info
- - app-int:juju-info
  - cos-agent-app-int:juju-info
- - app-int-perf:juju-info
  - cos-agent-app-int-perf:juju-info
- - db:cos-agent
  - cos-agent-db:cos-agent
- - lb-ext:cos-agent
  - cos-agent-lb-ext:cos-agent
- - cos-agent-lb-ext:juju-info
  - app-ext:juju-info
- - cos-agent-lb-int:juju-info
  - app-int:juju-info
- - lb-int:cos-agent
  - cos-agent-lb-int:cos-agent
- - lp-client:container
  - db:juju-info
- - ubuntu-pro:juju-info
  - db:juju-info
base: ubuntu@22.04
source: https://github.com/canonical/postgresql-bundle
type: bundle
